!function(e){var t={};function a(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){a(2),e.exports=a(1)},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=[[{code:"Backquote",ru:"ё",ruShift:"Ё",eng:"`",engShift:"~",className:"keyboard__key"},{code:"Digit1",ru:"1",ruShift:"!",eng:"1",engShift:"!",className:"keyboard__key"},{code:"Digit2",ru:"2",ruShift:'"',eng:"2",engShift:"@",className:"keyboard__key"},{code:"Digit3",ru:"3",ruShift:"№",eng:"3",engShift:"#",className:"keyboard__key"},{code:"Digit4",ru:"4",ruShift:"$",eng:"4",engShift:";",className:"keyboard__key"},{code:"Digit5",ru:"5",ruShift:"%",eng:"5",engShift:"%",className:"keyboard__key"},{code:"Digit6",ru:"6",ruShift:":",eng:"6",engShift:"^",className:"keyboard__key"},{code:"Digit7",ru:"7",ruShift:"?",eng:"7",engShift:"&",className:"keyboard__key"},{code:"Digit8",ru:"8",ruShift:"*",eng:"8",engShift:"*",className:"keyboard__key"},{code:"Digit9",ru:"9",ruShift:"(",eng:"9",engShift:"(",className:"keyboard__key"},{code:"Digit0",ru:"0",ruShift:")",eng:"0",engShift:")",className:"keyboard__key"},{code:"Minus",ru:"-",ruShift:"_",eng:"-",engShift:"_",className:"keyboard__key"},{code:"Equal",ru:"=",ruShift:"+",eng:"=",engShift:"+",className:"keyboard__key"},{code:"Backspace",ru:"Backspace",ruShift:"Backspace",eng:"Backspace",engShift:"Backspace",className:"keyboard__key keyboard__key_backspace"}],[{code:"Tab",ru:"Tab",ruShift:"Tab",eng:"Tab",engShift:"Tab",className:"keyboard__key keyboard__key_tab"},{code:"KeyQ",ru:"й",ruShift:"Й",eng:"q",engShift:"Q",className:"keyboard__key"},{code:"KeyW",ru:"ц",ruShift:"Ц",eng:"w",engShift:"W",className:"keyboard__key"},{code:"KeyE",ru:"у",ruShift:"У",eng:"e",engShift:"E",className:"keyboard__key"},{code:"KeyR",ru:"к",ruShift:"К",eng:"r",engShift:"R",className:"keyboard__key"},{code:"KeyT",ru:"е",ruShift:"Е",eng:"t",engShift:"T",className:"keyboard__key"},{code:"KeyY",ru:"н",ruShift:"Н",eng:"y",engShift:"Y",className:"keyboard__key"},{code:"KeyU",ru:"г",ruShift:"Г",eng:"u",engShift:"U",className:"keyboard__key"},{code:"KeyI",ru:"ш",ruShift:"Ш",eng:"i",engShift:"I",className:"keyboard__key"},{code:"KeyO",ru:"щ",ruShift:"Щ",eng:"o",engShift:"O",className:"keyboard__key"},{code:"KeyP",ru:"з",ruShift:"З",eng:"p",engShift:"P",className:"keyboard__key"},{code:"BracketLeft",ru:"х",ruShift:"Х",eng:"[",engShift:"{",className:"keyboard__key"},{code:"BracketRight",ru:"ъ",ruShift:"Ъ",eng:"]",engShift:"}",className:"keyboard__key"},{code:"BrBackslash",ru:"/",ruShift:"|",eng:"/",engShift:"|",className:"keyboard__key"},{code:"Delete",ru:"Del",ruShift:"Del",eng:"Del",engShift:"Del",className:"keyboard__key"}],[{code:"CapsLock",ru:"CapsLock",ruShift:"CapsLock",eng:"CapsLock",engShift:"CapsLock",className:"keyboard__key keyboard__key_capsLock"},{code:"KeyA",ru:"ф",ruShift:"Ф",eng:"a",engShift:"A",className:"keyboard__key"},{code:"KeyS",ru:"ы",ruShift:"Ы",eng:"s",engShift:"S",className:"keyboard__key"},{code:"KeyD",ru:"в",ruShift:"В",eng:"d",engShift:"D",className:"keyboard__key"},{code:"KeyF",ru:"а",ruShift:"А",eng:"f",engShift:"F",className:"keyboard__key"},{code:"KeyG",ru:"п",ruShift:"П",eng:"g",engShift:"G",className:"keyboard__key"},{code:"KeyH",ru:"р",ruShift:"Р",eng:"h",engShift:"H",className:"keyboard__key"},{code:"KeyJ",ru:"о",ruShift:"О",eng:"j",engShift:"J",className:"keyboard__key"},{code:"KeyK",ru:"л",ruShift:"Л",eng:"k",engShift:"K",className:"keyboard__key"},{code:"KeyL",ru:"д",ruShift:"Д",eng:"l",engShift:"L",className:"keyboard__key"},{code:"Semicolon",ru:"ж",ruShift:"Ж",eng:";",engShift:":",className:"keyboard__key"},{code:"Quote",ru:"э",ruShift:"Э",eng:'"',engShift:'"',className:"keyboard__key"},{code:"Enter",ru:"Enter",ruShift:"Enter",eng:"Enter",engShift:"Enter",className:"keyboard__key keyboard__key_еnter"}],[{code:"ShiftLeft",ru:"Shift",ruShift:"Shift",eng:"Shift",engShift:"Shift",className:"keyboard__key keyboard__key_shift"},{code:"KeyZ",ru:"я",ruShift:"Я",eng:"z",engShift:"Z",className:"keyboard__key"},{code:"KeyX",ru:"ч",ruShift:"Ч",eng:"x",engShift:"X",className:"keyboard__key"},{code:"KeyC",ru:"с",ruShift:"С",eng:"c",engShift:"C",className:"keyboard__key"},{code:"KeyV",ru:"м",ruShift:"М",eng:"v",engShift:"V",className:"keyboard__key"},{code:"KeyB",ru:"и",ruShift:"И",eng:"b",engShift:"B",className:"keyboard__key"},{code:"KeyN",ru:"т",ruShift:"Т",eng:"n",engShift:"N",className:"keyboard__key"},{code:"KeyM",ru:"ь",ruShift:"Ь",eng:"m",engShift:"M",className:"keyboard__key"},{code:"Comma",ru:"б",ruShift:"Б",eng:",",engShift:"<",className:"keyboard__key"},{code:"Period",ru:"ю",ruShift:"Ю",eng:".",engShift:">",className:"keyboard__key"},{code:"Slash",ru:".",ruShift:",",eng:"/",engShift:"?",className:"keyboard__key"},{code:"ArrowUp",ru:"▲",ruShift:"▲",eng:"▲",engShift:"▲",className:"keyboard__key"},{code:"ShiftRight",ru:"Shift",ruShift:"Shift",eng:"Shift",engShift:"Shift",className:"keyboard__key keyboard__key_shift"}],[{code:"ControlLeft",ru:"Ctrl",ruShift:"Ctrl",eng:"Ctrl",engShift:"Ctrl",className:"keyboard__key"},{code:"MetaLeft",ru:"Win",ruShift:"Win",eng:"Win",engShift:"Win",className:"keyboard__key"},{code:"AltLeft",ru:"Alt",ruShift:"Alt",eng:"Alt",engShift:"Alt",className:"keyboard__key"},{code:"Space",ru:" ",ruShift:" ",eng:" ",engShift:" ",className:"keyboard__key keyboard__key_space"},{code:"AltRight",ru:"Alt",ruShift:"Alt",eng:"Alt",engShift:"Alt",className:"keyboard__key"},{code:"ArrowLeft",ru:"◄",ruShift:"◄",eng:"◄",engShift:"◄",className:"keyboard__key"},{code:"ArrowDown",ru:"▼",ruShift:"▼",eng:"▼",engShift:"▼",className:"keyboard__key"},{code:"ArrowRight",ru:"►",ruShift:"►",eng:"►",engShift:"►",className:"keyboard__key"},{code:"ControlRight",ru:"Ctrl",ruShift:"Ctrl",eng:"Ctrl",engShift:"Ctrl",className:"keyboard__key"}]],n=["AltLeft","ControlRight","ControlLeft","AltRight","MetaLeft","MetaRight","ShiftRight","ShiftLeft","ArrowLeft","ArrowRight","Delete"],i=["Shift","Tab","Ctrl","Alt","Win"];function o(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lang=t}var t,a,n;return t=e,(a=[{key:"keyGeneration",value:function(e,t){e.classList=t.className,e.setAttribute("data-code",t.code),e.setAttribute("data-ru",t.ru),e.setAttribute("data-eng",t.eng),e.setAttribute("data-shift-ru",t.ruShift),e.setAttribute("data-shift-eng",t.engShift),e.textContent=t[this.lang]}},{key:"addKeybordButtons",value:function(e){for(var t=0;t<r.length;t+=1){var a=document.createElement("div");a.className="keyboard__row",e.append(a);for(var n=0;n<r[t].length;n+=1){var i=document.createElement("div");this.keyGeneration(i,r[t][n]),a.appendChild(i)}}}}])&&o(t.prototype,a),n&&o(t,n),e}();function c(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lang=t,this.keyboardKeys=new s(this.lang)}var t,a,r;return t=e,(a=[{key:"createLayout",value:function(){this.htmlFile=document.querySelector("html"),this.wrapper=document.createElement("div"),this.wrapper.className="wrapper",this.textarea=document.createElement("textarea"),this.textarea.className="textarea",this.keyboard=document.createElement("div"),this.keyboard.className="keyboard",this.note=document.createElement("div"),this.note.className="note",this.note.innerHTML='<p class="note_text">Клавиатура создавалась для операционной системы Windows.</p>\n                          <p class="note__text">Смена языка <span>Ctrl + Alt</span>.</p>',this.keyboardKeys.addKeybordButtons(this.keyboard),this.wrapper.append(this.textarea),this.wrapper.append(this.keyboard),this.wrapper.append(this.note),this.htmlBody=document.querySelector("body"),this.htmlBody.append(this.wrapper)}}])&&c(t.prototype,a),r&&c(t,r),e}();function u(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.textarea=document.querySelector("textarea"),this.keyboardButtons=document.querySelectorAll(".keyboard__key"),this.isCapslock=t,this.lang=a}var t,a,o;return t=e,(a=[{key:"addClassToButtons",value:function(e){for(var t=0;t<this.keyboardButtons.length;t+=1)if(this.keyboardButtons[t].getAttribute("data-code")===e)return void this.keyboardButtons[t].classList.add("active")}},{key:"changeTextContentButtons",value:function(e){for(var t=0;t<this.keyboardButtons.length;t+=1)this.keyboardButtons[t].textContent=this.keyboardButtons[t].getAttribute(e)}},{key:"toggleClassToButtons",value:function(e){for(var t=0;t<this.keyboardButtons.length;t+=1)if(this.keyboardButtons[t].getAttribute("data-code")===e)return void this.keyboardButtons[t].classList.toggle("active")}},{key:"handleEnterAction",value:function(e,t){var a=this.textarea.value.slice(0,e),r=this.textarea.value.slice(t);this.textarea.value="".concat(a,"\n").concat(r),this.textarea.focus(),this.textarea.selectionEnd=t+1}},{key:"handleTabAction",value:function(){this.textarea.value+="\t"}},{key:"handleBackspaceAction",value:function(e,t){0!==this.textarea.value.length&&this.textarea.setRangeText("",e-1,t,"end"),this.textarea.focus()}},{key:"handleDeleteAction",value:function(e,t){0!==this.textarea.value.length&&this.textarea.setRangeText("",e,t+1,"end"),this.textarea.focus()}},{key:"handleCapsLockAction",value:function(e,t,a){var r=this.textarea.value.slice(0,t),n=this.textarea.value.slice(a);!0===this.isCapslock?(this.textarea.value=r+e.toUpperCase()+n,this.textarea.focus(),this.textarea.selectionEnd=t+1):(this.textarea.value=r+e+n,this.textarea.focus(),this.textarea.selectionEnd=t+1)}},{key:"handleShiftAction",value:function(){var e="data-shift-".concat(this.lang);this.changeTextContentButtons(e)}},{key:"handleSwitchLanguage",value:function(){this.lang="ru"===this.lang?"eng":"ru";var e="data-".concat(this.lang);this.changeTextContentButtons(e),localStorage.setItem("language",this.lang)}},{key:"clickVirtualKeyHandler",value:function(e){if(e.target.classList.contains("keyboard__key")){var t=this.textarea.selectionStart,a=this.textarea.selectionEnd,r=e.target.textContent;if(i.includes(r))return void this.textarea.focus();switch(r){case"Enter":this.handleEnterAction(t,a);break;case"Tab":this.handleTabAction();break;case"Backspace":this.handleBackspaceAction(t,a);break;case"◄":this.textarea.focus(),this.textarea.selectionEnd=a-1;break;case"►":this.textarea.focus(),this.textarea.selectionStart=a+1;break;case"Del":this.handleDeleteAction(t,a);break;case"CapsLock":this.isCapslock=!this.isCapslock,e.target.classList.toggle("active");break;default:this.handleCapsLockAction(e.target.textContent,t,a)}}}},{key:"keyDownHandler",value:function(e){e.preventDefault();var t=this.textarea.selectionStart,a=this.textarea.selectionEnd;switch(n.includes(e.code)&&this.addClassToButtons(e.code),e.code){case"ControlRight":case"ControlLeft":this.addClassToButtons(e.code);break;case"AltLeft":case"AltRight":!0===e.ctrlKey&&(this.addClassToButtons(e.code),this.handleSwitchLanguage());break;case"ArrowLeft":this.addClassToButtons(e.code),this.textarea.focus(),this.textarea.selectionEnd=t-1;break;case"ArrowRight":this.addClassToButtons(e.code),this.textarea.focus(),this.textarea.selectionStart=a+1;break;case"ShiftLeft":case"ShiftRight":this.addClassToButtons(e.code),this.handleShiftAction();break;case"CapsLock":this.isCapslock=!this.isCapslock,this.toggleClassToButtons(e.code);break;case"Backspace":this.addClassToButtons(e.code),this.handleBackspaceAction(t,a);break;case"Delete":this.addClassToButtons(e.code),this.handleDeleteAction(t,a);break;case"Tab":this.addClassToButtons(e.code),this.handleTabAction();break;case"Enter":this.addClassToButtons(e.code),this.handleEnterAction(t,a);break;default:for(var i=0;i<r.length;i+=1)for(var o=0;o<r[i].length;o+=1){var s=r[i][o];if(e.code===s.code){if(!0===e.shiftKey){this.addClassToButtons(e.code);var c="".concat(this.lang,"Shift"),h=this.textarea.value.slice(0,t),u=this.textarea.value.slice(a);return this.textarea.value=h+s[c]+u,this.textarea.focus(),void(this.textarea.selectionEnd=t+1)}return this.addClassToButtons(e.code),void this.handleCapsLockAction(s[this.lang],t,a)}}}}},{key:"keyUpHandler",value:function(e){if(e.preventDefault(),"CapsLock"!==e.code&&this.toggleClassToButtons(e.code),"ShiftLeft"===e.code||"ShiftRight"===e.code){var t="data-".concat(this.lang);this.changeTextContentButtons(t)}}}])&&u(t.prototype,a),o&&u(t,o),e}();function d(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lang=localStorage.getItem("language")||"ru",this.isCapslock=!1,this.layoutApplication=new h(this.lang),this.application=this.layoutApplication.createLayout(),this.keyboardEventHandler=new l(this.isCapslock,this.lang)}var t,a,r;return t=e,(a=[{key:"addEvents",value:function(){var e=this;this.keyboard=document.querySelector(".keyboard"),this.keyboard.addEventListener("click",(function(t){return e.keyboardEventHandler.clickVirtualKeyHandler(t)})),window.addEventListener("keydown",(function(t){return e.keyboardEventHandler.keyDownHandler(t)})),window.addEventListener("keyup",(function(t){return e.keyboardEventHandler.keyUpHandler(t)}))}}])&&d(t.prototype,a),r&&d(t,r),e}())).addEvents()}]);